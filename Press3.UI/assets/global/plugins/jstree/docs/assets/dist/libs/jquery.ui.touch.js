(function(n){function c(){t=!1}function l(){r&&(window.clearTimeout(h),r=!1,u=null)}function a(n){r||(r=!0,u=n.changedTouches[0],h=window.setTimeout(y,800))}function y(){r=!1;var n=u,t=document.createEvent("MouseEvent");t.initMouseEvent("mouseup",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(t);t=document.createEvent("MouseEvent");t.initMouseEvent("mousedown",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,2,null);n.target.dispatchEvent(t);t=document.createEvent("MouseEvent");t.initMouseEvent("contextmenu",!0,!0,window,1,n.screenX+50,n.screenY+5,n.clientX+50,n.clientY+5,!1,!1,!1,!1,2,null);n.target.dispatchEvent(t);t=document.createEvent("MouseEvent");t.initMouseEvent("mouseup",!0,!0,window,1,n.screenX+50,n.screenY+5,n.clientX+50,n.clientY+5,!1,!1,!1,!1,2,null);n.target.dispatchEvent(t);s=!0;u=null}function p(n){var e=n.changedTouches,r=e[0],f="mouseover",u=document.createEvent("MouseEvent");u.initMouseEvent(f,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null);r.target.dispatchEvent(u);f="mousedown";u=document.createEvent("MouseEvent");u.initMouseEvent(f,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null);r.target.dispatchEvent(u);t?(window.clearTimeout(o),r.target==i?(i=null,t=!1,f="click",u=document.createEvent("MouseEvent"),u.initMouseEvent(f,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),r.target.dispatchEvent(u),f="dblclick",u=document.createEvent("MouseEvent"),u.initMouseEvent(f,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),r.target.dispatchEvent(u)):(i=r.target,t=!0,o=window.setTimeout(c,600),a(n))):(i=r.target,t=!0,o=window.setTimeout(c,600),a(n))}function v(n){return n.targetTouches&&n.targetTouches[0]?document.elementFromPoint(n.targetTouches[0].pageX-window.pageXOffset,n.targetTouches[0].pageY-window.pageYOffset):null}function e(r){var o="",h=0;if(!(r.touches.length>1)){switch(r.type){case"touchstart":return n(r.changedTouches[0].target).is("select")?void 0:(p(r),r.preventDefault(),f=v(r),!1);case"touchmove":l();o="mousemove";r.preventDefault();f=v(r);break;case"touchend":if(s)return s=!1,r.preventDefault(),!1;l();o="mouseup";break;default:return}var c=r.changedTouches,u=c[0],e=document.createEvent("MouseEvent");e.initMouseEvent(o,!0,!0,window,1,u.screenX,u.screenY,u.clientX,u.clientY,!1,!1,!1,!1,h,null);f.dispatchEvent(e);o=="mouseup"&&t&&u.target==i&&(e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,window,1,u.screenX,u.screenY,u.clientX,u.clientY,!1,!1,!1,!1,h,null),f.dispatchEvent(e))}}var i=null,t=!1,o=null,r=!1,u=null,h=null,s=!1,f=null;n.extend(n.support,{touch:"ontouchend"in document});n.fn.addTouch=function(){return n.support.touch&&this.each(function(n,t){t.addEventListener("touchstart",e,!1);t.addEventListener("touchmove",e,!1);t.addEventListener("touchend",e,!1);t.addEventListener("touchcancel",e,!1)}),this}})(jQuery)